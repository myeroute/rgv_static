---
import { getCollection } from 'astro:content';

const posts = (await getCollection('blog'))
  .sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf())
  .slice(0, 6);
---
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Retro Gaming Verse â€“ Slow Play, Deep Experience</title>
    <meta
      name="description"
      content="A personal journal about retro games and retro-style indie games."
    />

    <!-- WORDPRESS THEME CSS -->
    <link rel="stylesheet" href="/wp-theme.css" />
  </head>

  <body class="home cs-sidebar-disabled">

    <main class="cs-site-content">
      <div class="cs-container">

        <div class="cs-main-content">
          <div class="cs-content-area">

            <section class="cs-posts-area cs-archive-list">
              <div class="cs-posts-area__main">

                {posts.map((post) => (
                  <article class="cs-entry">
                    <div class="cs-entry__outer">

                      <!-- Thumbnail -->
                      <div
                        class="cs-entry__inner cs-entry__thumbnail cs-entry__overlay cs-overlay-ratio cs-ratio-landscape-16-9"
                        data-scheme="inverse"
                      >
                        <img
                          src={post.data.heroImage}
                          alt={post.data.title}
                          loading="lazy"
                        />
                      </div>

                      <!-- Content -->
                      <div class="cs-entry__content">

                        <h2 class="cs-entry__title">
                          <a href={`/${post.id}/`}>
                            {post.data.title}
                          </a>
                        </h2>

                        <div class="cs-entry__excerpt">
                          <p>{post.data.description}</p>
                        </div>

                        <div class="cs-entry__discover-more">
                          <a
                            class="cs-button"
                            href={`/${post.id}/`}
                            title={`Discover More: ${post.data.title}`}
                          >
                            Discover More
                          </a>
                        </div>

                      </div>
                    </div>
                  </article>
                ))}

              </div>
            </section>

          </div>
        </div>

      </div>
    </main>

  </body>
</html>
