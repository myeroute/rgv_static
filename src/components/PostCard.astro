---
const { post } = Astro.props;

if (!post?.slug || !post?.data) {
  throw new Error("PostCard: invalid post data");
}

const {
  title,
  description,
  heroImage,
} = post.data;

const url = `/${post.slug}`;
---

<article class="post-card">
  {heroImage && (
    <a href={url} class="post-card-image">
      <img src={heroImage} alt={title} loading="lazy" />
    </a>
  )}

  <div class="post-card-content">
    <h2 class="post-card-title">
      <a href={url}>{title}</a>
    </h2>

    {description && (
      <p class="post-card-excerpt">{description}</p>
    )}

    <a href={url} class="post-card-readmore">
      Read more â†’
    </a>
  </div>
</article>
